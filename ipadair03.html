<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        .image{
            width: 100%;
        }
        .price p{
            font-size: 40px;
        }
        .form-selector-label span:nth-child(3){
            font-size: 12px;
        }
        .form-selector-label{
            width: 200px; 
            margin: 20px 10px; 
            padding: 10px;
            box-sizing: border-box;
        }
        input{
            display: none;
        }
    </style>

    <title>iPad Air</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <!-- 左方圖片 -->
            <div class="column col-lg-6 col-sm-12">
                <div class="media">
                    <div class="images">
                        <img class="image" src="/pics/ipadair/ipad-air-select-202009.jpg">
                    </div>
                </div>
            </div>
            <!-- 右方表格 -->
            <div class="column col-lg-6 col-sm-12 mt-5">
                <div class="product-header">
                    <h1>購買 iPad Air</h1>
                </div>
                <div class="productselection">
                    <div class="dimension">
                        <div class="dimension-header d-flex justify-content-between">
                            <h2 id="colorh2">外觀</h2>
                            <button id="colorButton" class="d-none btn btn-link">更改</button>
                        </div>
                        <div class="dimension-colors d-flex flex-wrap">
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionColor" id="spacegray" value="太空灰">
                                <label for="spacegray" class="form-selector-label border border-secondary rounded text-center"><img src="/pics/ipadair/finish-spacegray-201903.png" style="width:25px"><br>太空灰</label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionColor" id="silver" value="銀色">
                                <label for="silver" class="form-selector-label border border-secondary rounded text-center"><img src="/pics/ipadair/finish-silver-201903.png" style="width:25px"><br>銀色</label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionColor" id="green" value="綠色">
                                <label for="green" class="form-selector-label border border-secondary rounded text-center"><img src="/pics/ipadair/finish-green-202009.jpg" style="width:25px"><br>綠色</label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionColor" id="gold" value="玫瑰金">
                                <label for="gold" class="form-selector-label border border-secondary rounded text-center"><img src="/pics/ipadair/finish-gold-202009.jpg" style="width:25px"><br>玫瑰金</label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionColor" id="blue" value="天空藍">
                                <label for="blue" class="form-selector-label border border-secondary rounded text-center"><img src="/pics/ipadair/finish-blue-202009.png" style="width:25px"><br>天空藍</label>
                            </div>
                        </div>
                        <div class="dimension-header d-flex justify-content-between">
                            <h2 id="storageh2">儲存裝置</h2>
                            <button id="storageButton" class="d-none btn btn-link">更改</button>
                            </div>
                        <div class="dimension-storage d-flex flex-wrap">
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionStorage" id="64" value="64GB">
                                <label for="64" class="form-selector-label border border-secondary rounded text-center">
                                    <span>64GB</span><br>
                                    <span>NT$18,900起</span>
                                </label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionStorage" id="256" value="256GB">
                                <label for="256" class="form-selector-label border border-secondary rounded text-center">
                                    <span>256GB</span><br>
                                    <span>NT$23,900起</span>
                                </label>
                            </div>
                        </div>
                        <div class="dimension-header d-flex justify-content-between">
                            <h2 id="connecth2">連線能力</h2>
                            <button id="connectButton" class="d-none btn btn-link">更改</button>
                        </div>
                        <div class="dimension-connection d-flex flex-wrap">
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionConnection" id="wifi" value="wifi">
                                <label for="wifi" class="form-selector-label border border-secondary rounded text-center">
                                    <span>Wi-Fi</span>
                                    <!-- <span class="wifi-fullprice">NT$xx,xxx</span> -->
                                </label>
                            </div>
                            <div>
                                <input type="radio" class="form-select-input" name="dimensionConnection" id="5g" value="5g">
                                <label for="5g" class="form-selector-label border border-secondary rounded text-center">
                                    <span>Wi-Fi+行動網路</span>
                                    <!-- <span class="5g-fullprice">NT$xx,xxx</span> -->
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="summary">
                    <div class="price">
                        <!-- <button class="getP">Full Price</button> -->
                        <p></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous">
    </script>
    <script>
        let ipadArray = [
            {
                "id":"1-1",
                "color":"spacegray",
                "storage":64,
                "connection":"wifi",
                "price":18900,
                "url":"/pics/ipadair/ipad-air-select-spacegray-202009.png"
            },
            {
                "id":"1-2",
                "color":"spacegray",
                "storage":64,
                "connection":"5g",
                "price":23200,
                "url":"/pics/ipadair/ipad-air-select-spacegray-202009.png"
            },
            {
                "id":"1-3",
                "color":"spacegray",
                "storage":256,
                "connection":"wifi",
                "price":23900,
                "url":"/pics/ipadair/ipad-air-select-spacegray-202009.png"
            },
            {
                "id":"1-4",
                "color":"spacegray",
                "storage":256,
                "connection":"5g",
                "price":28200,
                "url":"/pics/ipadair/ipad-air-select-spacegray-202009.png"
            },
            {
                "id":"2-1",
                "color":"silver",
                "storage":64,
                "connection":"wifi",
                "price":18900,
                "url":"/pics/ipadair/ipad-air-select-silver-202009.png"
            },
            {
                "id":"2-2",
                "color":"silver",
                "storage":64,
                "connection":"5g",
                "price":23200,
                "url":"/pics/ipadair/ipad-air-select-silver-202009.png"
            },
            {
                "id":"2-3",
                "color":"silver",
                "storage":256,
                "connection":"wifi",
                "price":23900,
                "url":"/pics/ipadair/ipad-air-select-silver-202009.png"
            },
            {
                "id":"2-4",
                "color":"silver",
                "storage":256,
                "connection":"5g",
                "price":28200,
                "url":"/pics/ipadair/ipad-air-select-silver-202009.png"
            },
            {
                "id":"3-1",
                "color":"green",
                "storage":64,
                "connection":"wifi",
                "price":18900,
                "url":"/pics/ipadair/ipad-air-select-green-202009.png"
            },
            {
                "id":"3-2",
                "color":"green",
                "storage":64,
                "connection":"5g",
                "price":23200,
                "url":"/pics/ipadair/ipad-air-select-green-202009.png"
            },
            {
                "id":"3-3",
                "color":"green",
                "storage":256,
                "connection":"wifi",
                "price":23900,
                "url":"/pics/ipadair/ipad-air-select-green-202009.png"
            },
            {
                "id":"3-4",
                "color":"green",
                "storage":256,
                "connection":"5g",
                "price":28200,
                "url":"/pics/ipadair/ipad-air-select-green-202009.png"
            },
            {
                "id":"4-1",
                "color":"gold",
                "storage":64,
                "connection":"wifi",
                "price":18900,
                "url":"/pics/ipadair/ipad-air-select-gold-202009.png"
            },
            {
                "id":"4-2",
                "color":"gold",
                "storage":64,
                "connection":"5g",
                "price":23200,
                "url":"/pics/ipadair/ipad-air-select-gold-202009.png"
            },
            {
                "id":"4-3",
                "color":"gold",
                "storage":256,
                "connection":"wifi",
                "price":23900,
                "url":"/pics/ipadair/ipad-air-select-gold-202009.png"
            },
            {
                "id":"4-4",
                "color":"gold",
                "storage":256,
                "connection":"5g",
                "price":28200,
                "url":"/pics/ipadair/ipad-air-select-gold-202009.png"
            },
            {
                "id":"5-1",
                "color":"blue",
                "storage":64,
                "connection":"wifi",
                "price":18900,
                "url":"/pics/ipadair/ipad-air-select-blue-202009.png"
            },
            {
                "id":"5-2",
                "color":"blue",
                "storage":64,
                "connection":"5g",
                "price":23200,
                "url":"/pics/ipadair/ipad-air-select-blue-202009.png"
            },
            {
                "id":"5-3",
                "color":"blue",
                "storage":256,
                "connection":"wifi",
                "price":23900,
                "url":"/pics/ipadair/ipad-air-select-blue-202009.png"
            },
            {
                "id":"5-4",
                "color":"blue",
                "storage":256,
                "connection":"5g",
                "price":28200,
                "url":"/pics/ipadair/ipad-air-select-blue-202009.png"
            }
        ]
        
        let color,storage,connection;
        //顏色選擇區
        let btnColor = document.querySelector('#colorButton');
        let h2Color = document.querySelector('#colorh2');
        let dimensionColor = document.querySelector('.dimension-colors');
        dimensionColor.addEventListener('change',function(colorChosed){
            color = colorChosed.target.id;
            summeryPrice();
            //選擇後消失
            dimensionColor.classList.add('d-none');
            btnColor.classList.remove('d-none');
            h2Color.innerText = colorChosed.target.value;
        })
        //容量選擇區
        let btnStorage = document.querySelector('#storageButton');
        let h2Storage = document.querySelector('#storageh2');
        let dimensionStorage = document.querySelector('.dimension-storage');
        dimensionStorage.addEventListener('change',function(storageChosed){
            storage = storageChosed.target.id;
            summeryPrice();
            //選擇後消失
            dimensionStorage.classList.add('d-none');
            btnStorage.classList.remove('d-none');
            h2Storage.innerText = storageChosed.target.value;
        })
        //連線方式選擇區
        let btnConnect = document.querySelector('#connectButton');
        let h2Connect = document.querySelector('#connecth2');
        let dimensionConnection = document.querySelector('.dimension-connection');
        dimensionConnection.addEventListener('change',function(connectionChosed){
            connection = connectionChosed.target.id;
            summeryPrice();
            //選擇後消失
            dimensionConnection.classList.add('d-none');
            btnConnect.classList.remove('d-none');
            h2Connect.innerText = connectionChosed.target.value;
        })
        //更改按鈕
        btnColor.addEventListener('click',function(){
            dimensionColor.classList.remove('d-none');
            btnColor.classList.add('d-none');
            h2Color.innerText = '外觀';
        })
        btnStorage.addEventListener('click',function(){
            dimensionStorage.classList.remove('d-none');
            btnStorage.classList.add('d-none');
            h2Storage.innerText = '儲存裝置';
        })
        btnConnect.addEventListener('click',function(){
            dimensionConnection.classList.remove('d-none');
            btnConnect.classList.add('d-none');
            h2Connect.innerText = '連線能力';
        })

        const price = document.querySelector(".price p");        
        function getprice(){
            let filterArray = ipadArray.filter(x => x.color == color && x.storage == storage && x.connection == connection);
            price.innerText=`NT$${filterArray[0].price}元`;
            let img = document.querySelector('.image');
            img.setAttribute('src',filterArray[0].url);
        }
        function getColor(){
            let filterArray = ipadArray.filter(x => x.color == color);
            let img = document.querySelector('.image');
            img.setAttribute('src',filterArray[0].url);
        }
        function summeryPrice(){
            if(storage == 256 && connection == null){
                getColor();
                price.innerText='NT23,900元起';
            }
            else if(connection == null){
                getColor();
                price.innerText='NT18,900元起';
            }
            else{
                getprice();
            }
        }
    </script>

</body>

</html>